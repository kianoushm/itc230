<html>
    <head>
        <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
        
    </head>
    
    
    <body>
        
        <ul id="root"></div>
       
        
        <script type="text/babel">
     
      function Bookdetail(props) {
          return (
            <ul className="all-list">
            <li>Title: {props.title}</li>
            <li>Author: {props.author}</li>
            <li>Publication: {props.pubdate}</li>
            </ul>  
            );
            }
     
        
   class BookApp extends React.Component {
       
       constructor (props) {
           super(props)
           this.showdetail = this.showdetail.bind(this);
            
       //set initial state
           this.state = {
               items:{{{books}}},
               filter:"",
               curItem:{}
           }  
       }
       
     
       
       
       showdetail(e) {
           var bookId = e.target.id;
          // console.log("-->"+bookId);
           var allBooks = this.state.items;
           var found = allBooks.find((element)=> {
              return element._id.toLowerCase() == bookId.toLowerCase();
            });
           this.setState({curItem:found});
           //  ReactDOM.render(result,document.getElementById('root'));
           // const result = <Bookdetail title={found.title}  author={found.author}  pubdate={found.pubdate}  />;
            //ReactDOM.render(result,document.getElementById('root'));
            console.log("Book Title--> "+found.title);
          
       }
       
   
    
   render() { 
           
    
    const data =this.state.items;
    const listItems = data.map((d) => <li key={d.title}><a href="#" id={d._id} onClick = {this.showdetail}>{d.title}</a></li>);
    return (
      <div>
      <div className="allbooks"><h1>List of Books:</h1>
      {listItems }
      </div>
     <hr />
     <div className="bookdetail">
      <h1>Book Details</h1>
      <Bookdetail title={this.state.curItem.title} author={this.state.curItem.author} pubdate={this.state.curItem.pubdate} />

      </div>
      </div>
      
    );
  } 
} 
  
        ReactDOM.render (<BookApp />, document.getElementById('root'));
          
         
         
        </script>
    </body>
    </html>